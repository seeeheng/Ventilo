<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../leaflet/leaflet.css"
          crossorigin=""/>
    <link rel="stylesheet" href="../js/leaflet-bft.css"
          crossorigin=""/>

    <script src="../leaflet/leaflet.js"
            crossorigin=""></script>
    <script src="../js/anglemarker-plugin.js"
            crossorigin=""></script>

    <script src="../js/leaflet-bft.js"
            crossorigin=""></script>

    <script src="../js/stomp.js"
            crossorigin=""></script>
    <script src="../js/bft-tracks-starboard.js"
            crossorigin=""></script>
    <script src="../js/leaflet-mobile.js"
            crossorigin=""></script>
    <title>BFT Web Map - Leaflet</title>
</head>
<body>
Lateral view - Displays all tracked entities from portside
<div id="mapdeck"></div>


<script>

    var gaScale = 250.0; // GA scale 1cm to 250 cm
    var pxWidth = 8240; //Width of GA cut out
    var metreWidth = (69.66*gaScale)/100; //Width measure from GA cut out
    var factor = pxWidth/metreWidth;
    var imageoverlay='../ship/LATERALDECK.png';
    var lowerleftx=-2.4*250/100*factor;
    var lowerlefty=-6.93*250/100*factor;
    var upperrightx=(69.74-2.4)*250/100*factor;
    var upperrighty=12.61*250/100*factor;
    var initialx=80;
    var initialy=0;
    var initialzoom=-3.0;
    var map0=loadLeaflet(imageoverlay,lowerleftx,lowerlefty,upperrightx,upperrighty, initialx,initialy,initialzoom);


    // getCustomMarker(0,0,null,'P0',true,0).addTo(map0);
    // getCustomMarker(5.44*250/100,0,null,'P20',true,0).addTo(map0);
    // getCustomMarker(11.84*250/100,0,null,'P40',true,0).addTo(map0);
    // getCustomMarker(18.24*250/100,0,null,'P60',true,0).addTo(map0);
    // getCustomMarker(37.43*250/100,0,null,'P120',true,0).addTo(map0);
    // getCustomMarker(43.82*250/100,0,null,'P140',true,0).addTo(map0);
    // getCustomMarker(50.21*250/100,0,null,'P160',true,0).addTo(map0);
    // getCustomMarker(55.99*250/100,0,null,'P180',true,0).addTo(map0);
    // getCustomMarker(61.37*250/100,0,null,'P200',true,0).addTo(map0);
    // getCustomMarker(66.16*250/100,0,null,'P220',true,0).addTo(map0);

    var mqSettings=Android.getMQSettings();
    mqSettingsArray=mqSettings.split(',');
    mqAddress=mqSettingsArray[0];
    mqUser=mqSettingsArray[1];
    mqPassword=mqSettingsArray[2];
    mqTopic=mqSettingsArray[3];
    mqPort=mqSettingsArray[4];
    console.log("mqAddress:" + mqAddress);
    console.log("mqUser:" + mqUser);
    console.log("mqPassword:"+ mqPassword);
    console.log("mqTopic:"+ mqTopic);
    initRabbit(mqAddress,mqUser,mqPassword,mqTopic,mqPort);


</script>
</body>
</html>